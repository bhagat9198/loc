<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lake of Cakes | User Profile</title>
  <link rel="shortcut icon" href="/assets/images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../assets/css/all.css">
    <link rel="stylesheet" href="../assets/css/base.css">
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/mega-menu.css">
    <link rel="stylesheet" href="../assets//css/randomStyles.css">
    <link rel="stylesheet" href="../assets/css/animate.css">
    <script src="https://ajax.aspnetcdn.com/ajax/modernizr/modernizr-2.7.2.js"></script>
    <link rel="stylesheet" href="assets/css/animation.css">
    <link rel="stylesheet" href="../assets/css/customerProfile.css">

    <script src="https://ajax.aspnetcdn.com/ajax/modernizr/modernizr-2.7.2.js"></script>
    <script src="https://kit.fontawesome.com/92b764e504.js" crossorigin="anonymous"></script> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.aspnetcdn.com/ajax/modernizr/modernizr-2.7.2.js"></script>
    <script src="https://kit.fontawesome.com/92b764e504.js" crossorigin="anonymous"></script>
 
  
</head>
<style>

</style>

<body style="overflow-x: hidden !important; " id="userBody">
  <section id="nav-section-loader">

    <style>
      .autocomplete {
        position: relative;
        display: inline-block !important;
      }

      input {
        border: 1px solid transparent;
        background-color: #f1f1f1;
        padding: 10px;
        font-size: 16px;

      }

      input[type=text] {
        background-color: #f1f1f1;
        width: 100%;

      }

      input[type=submit] {
        background-color: DodgerBlue;
        color: rgb(131, 56, 56);
        cursor: pointer;
      }

      .autocomplete-items {
        position: absolute;
        border: 1px solid #d4d4d4;
        border-bottom: none;
        border-top: none;
        z-index: 99;
        /*position the autocomplete items to be the same width as the container:*/
        top: 100%;
        left: 0;
        right: 0;
        /* font-style: italic; */
      }

      .autocomplete-items div {
        padding: 10px;
        cursor: pointer;
        background-color: #fff;
        border-bottom: 1px solid #d4d4d4;
        /* font-style: italic; */
      }

      /*when hovering an item:*/
      .autocomplete-items div:hover {
        background-color: #e9e9e9;
      }

      /*when navigating through the items using the arrow keys:*/
      .autocomplete-active {
        background-color: DodgerBlue !important;
        color: #ffffff;
      }

      /* @media only screen and (max-width: 600px) {
        .responsiveIcon1 {
          margin: auto;
          padding: 0px; 
        }
      } */

      @media only screen and (min-width:700px) {
        .responsiveIcon2 {
          display: block !important;
        }

      }
    </style>



<section id="top-alert">
  <!-- code -->
</section>


    <section class="logo-header">
      <div class="container-fluid logoheder">
        <div class="row ">
          <div class="col-lg-3 col-sm-6 col-6 log remove-padding">
            <div class="logo">
              <a href="/index.html">
                <img src="/assets/images/logo.png" alt="Logo Lake of cakes" style="width: 350px;">
              </a>
            </div>
          </div>
          <label class="drover drobt" for="responsive-nav" onclick="shownavigation()">â˜°</label>
          <aside class="drobt0 drobt1 colapse" id="" style="overflow-y: scroll !important;">

            <div class="logo-area">
              <div class="logo">
                <a href="/index.html">
                  <img src="/assets/images/logo-min.png" alt="Logo Lake of cakes" style="width: 350px;">
                </a>
              </div>
              <i class="fa fa-times" style="float: right; position: relative;padding: 10px;margin-left: 20%;"
                onclick="hidenavigation()"></i>
            </div>
            <div class="menu-container">
              <div class="menu">
                <ul id="whole-navigation-mobile">
                </ul>
              </div>
              <hr>
              <div class="nav-collapsible">
                <a href="/midNight.html">
                  <label for="nav-collapsible-1" style="width: 100%;">
                    <div class="row pl-3">
                      <div class="col-2 col-sm-2 col-md-2 p-0">
                        <span>
                          <img src="/assets/images/MidnightDelivery.png" alt="Lake of Cakes midnight"
                            style="width: 25px;">
                        </span>
                      </div>
                      <div class="col-8 col-sm-8 col-md-8 p-0">
                        <span style="position: relative; top: 4px;">MIDNIGHT </span>
                      </div>
                      <div class="col-2 col-sm-2 col-md-2 p-0">
                        <span style="position: relative; top: 8px;">
                          <i class="fas fa-chevron-right"></i>
                        </span>
                      </div>
                    </div>
                  </label>
                </a>
              </div>
              <div class="nav-collapsible">
                <a href="#">
                  <label for="nav-collapsible-1" style="width: 100%;">
                    <div class="row pl-3">
                      <div class="col-2 col-sm-2 col-md-2 p-0">
                        <span>
                          <img src="/assets/images/chef.png" alt="Lake of Cakes Chef" style="width: 25px;">
                        </span>
                      </div>
                      <div class="col-8 col-sm-8 col-md-8 p-0">
                        <span style="position: relative; top: 4px;">Be A Chef </span>
                      </div>
                      <div class="col-2 col-sm-2 col-md-2 p-0">
                        <span style="position: relative; top: 8px;">
                          <i class="fas fa-chevron-right"></i>
                        </span>
                      </div>
                    </div>
                  </label>
                </a>
              </div>
              <div class="nav-collapsible">
                <a href="#">
                  <label for="nav-collapsible-1" style="width: 100%;">
                    <div class="row pl-3">
                      <div class="col-2 col-sm-2 col-md-2 p-0">
                        <span>
                          <img style="width: 25px;" data-toggle="modal" data-target="#reminderModal"
                            src="../assets/images/reminder.png" alt="">
                        </span>
                      </div>
                      <div class="col-8 col-sm-8 col-md-8 p-0">
                        <span style="position: relative; top: 4px;" data-toggle="modal"
                          data-target="#reminderModal">Reminder </span>
                      </div>
                      <div class="col-2 col-sm-2 col-md-2 p-0">
                        <span style="position: relative; top: 8px;">
                          <i class="fas fa-chevron-right"></i>
                        </span>
                      </div>
                    </div>
                  </label>
                </a>
              </div>
              <hr>
              <!-- <div class="nav-collapsible">
              <a href="#">
                <label for="nav-collapsible-1" style="width: 100%;">
                  <div class="row pl-3">
                    <div class="col-10 col-sm-10 col-md-10 p-0">
                      <span style="position: relative; top: 4px;">Help </span>
                    </div>
                    <div class="col-2 col-sm-2 col-md-2 p-0">
                      <span style="position: relative; top: 8px;">
                        <i class="fas fa-chevron-right"></i>
                      </span>
                    </div>
                  </div>
                </label>
              </a>
            </div> -->
            <div class="nav-collapsible">
              <a href="/UserDash/customerProfile.html">
                <label for="nav-collapsible-1" style="width: 100%;">
                  <div class="row pl-3">
                    <div class="col-10 col-sm-10 col-md-10 p-0">
                      <span style="position: relative; top: 4px;">Your Account </span>
                    </div>
                    <div class="col-2 col-sm-2 col-md-2 p-0">
                      <span style="position: relative; top: 8px;">
                        <i class="fas fa-chevron-right"></i>
                      </span>
                    </div>
                  </div>
                </label>
              </a>
            </div>
              <div class="nav-collapsible">
                <a href="#">
                  <label for="nav-collapsible-1" style="width: 100%;">
                    <div class="row pl-3">
                      <div class="col-10 col-sm-10 col-md-10 p-0">
                        <span style="position: relative; top: 4px;">Contact us </span>
                      </div>
                      <div class="col-2 col-sm-2 col-md-2 p-0">
                        <span style="position: relative; top: 8px;">
                          <i class="fas fa-chevron-right"></i>
                        </span>
                      </div>
                    </div>
                  </label>
                </a>
              </div>
              <!-- <div class="nav-collapsible">
              <a href="javascript:;" data-toggle="modal" data-target="#track-order-modal" class="track-btn">
                <label for="nav-collapsible-1" style="width: 100%;">
                  <div class="row pl-3">
                    <div class="col-10 col-sm-10 col-md-10 p-0">
                      <span style="position: relative; top: 4px;">Track Orders </span>
                    </div>
                    <div class="col-2 col-sm-2 col-md-2 p-0">
                      <span style="position: relative; top: 8px;">
                        <i class="fas fa-chevron-right"></i>
                      </span>
                    </div>
                  </div>
                </label>
              </a>
            </div> -->
              <div class="nav-collapsible">
                <a data-toggle="modal" data-target="#topoffer">
                  <label for="nav-collapsible-1" style="width: 100%;">
                    <div class="row pl-3">
                      <div class="col-10 col-sm-10 col-md-10 p-0">
                        <span style="position: relative; top: 4px;" data-toggle="modal" data-target="#modalYT">Offers
                        </span>
                      </div>
                      <div class="col-2 col-sm-2 col-md-2 p-0">
                        <span style="position: relative; top: 8px;">
                          <i class="fas fa-chevron-right"></i>
                        </span>
                      </div>
                    </div>
                  </label>
                </a>
              </div>
              <div class="nav-collapsible">
                <a href="/Common/coupans.html">
                  <label for="nav-collapsible-1" style="width: 100%;">
                    <div class="row pl-3">
                      <div class="col-10 col-sm-10 col-md-10 p-0">
                        <span style="position: relative; top: 4px;">Coupons </span>
                      </div>
                      <div class="col-2 col-sm-2 col-md-2 p-0">
                        <span style="position: relative; top: 8px;">
                          <i class="fas fa-chevron-right"></i>
                        </span>
                      </div>
                    </div>
                  </label>
                </a>
              </div>

              <div class="nav-collapsible" style="display: none;" id="logoutMobile">
                <a href="#!" onclick="logOut()">
                  <label for="nav-collapsible-1" style="width: 100%;">
                    <div class="row pl-3">
                      <div class="col-10 col-sm-10 col-md-10 p-0">
                        <span style="position: relative; top: 4px;">Log Out</span>
                      </div>
                      <div class="col-2 col-sm-2 col-md-2 p-0">
                        <span style="position: relative; top: 8px;">
                          <i class="fas fa-power-off"></i>
                        </span>
                      </div>
                    </div>
                  </label>
                </a>
              </div>
              <div class="nav-collapsible" id="loginMobile">
                <a href="/Auth/login.html">
                  <label for="nav-collapsible-1" style="width: 100%;">
                    <div class="row pl-3">
                      <div class="col-10 col-sm-10 col-md-10 p-0">
                        <span style="position: relative; top: 4px;">Log In</span>
                      </div>
                      <div class="col-2 col-sm-2 col-md-2 p-0">
                        <span style="position: relative; top: 8px;">
                          <i class="fa fa-sign-in"></i>
                        </span>
                      </div>
                    </div>
                  </label>
                </a>
              </div>

            </div>
          </aside>
          <div class="search col-lg-4 col-sm-12 col-12 order-last order-sm-2 order-md-2 text-right remove-padding">
            <div class="row">
              <div class="col-md-1"></div>
              <div class="col-md-10 col-12 p-0 mt-3 ml-4">
                <div class="input-group mb-2 mt-2">
                  <form id="searchForm" class="search-form" style="display: inline-flex;width: 100%;">
                    <div class="autocomplete" style="width: 100%;">
                      <input class="form-control" style="width: 100% !important;
                    border: none;
                    border-bottom: 1px solid ;
                    border-radius: unset;background-color: transparent;" type="text" id="searchBar"
                        onkeydown="disableEnterKey(event)" onkeyup=searchByUserInput(event) name="searchBar"
                        placeholder="Search: Cakes , Flowers ,Gifts...">
                    </div>

                    <div class="input-group-append" onclick=searchByUserInputBtn(event)>
                      <button class="btn btn-outline-secondary" onclick=searchByUserInputBtn(event)
                        style="padding: 0px 16px; border-radius: 0px 15px 15px 0px;  background:transparent; border: #F00;"><i
                          class="fa fa-search" style="color:red" onclick=searchByUserInputBtn(event)></i></button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>


          <div
            class="col-lg-4 col-sm-12 col-12 text-center remove-padding order-last order-sm-2 order-md-2 text-right resmid">
            <ul style="display: inline-flex;">
              <li>
                <a href="/midNight.html">
                  <div class="text-center">
                    <img src="/assets/images/MidnightDelivery.png" style="width:50px;object-fit: cover;">
                    <div
                      style="margin-top: 5px; width: 80px; background: #f00; padding: 0px 10px; color: #FFF; font-size: 12px; text-align: center;">
                      MIDNIGHT</div>
                  </div>
                </a>
              </li>
              <li style="padding: 0px 28px;">
                <a href="#">
                  <img src="/assets/images/chef.png" style="width:50px;object-fit: cover;">
                  <div
                    style="margin-top: 5px; width: 80px; background: #f00; padding: 0px 10px; color: #FFF; font-size: 12px; text-align: center;">
                    BE A CHEF</div>
                </a>
              </li>
              <li>
                <a href="#" type="button" data-toggle="modal" data-target="#reminderModal">
                  <img style="width:80px;object-fit: cover;" src="../assets/images/reminder.png" alt="">
                  <div data-toggle="modal" data-target="#reminderModal"
                    style="margin-top: 5px; width: 80px; background: #f00; padding: 0px 10px; color: #FFF; font-size: 12px; text-align: center;">
                    REMINDER</div>
                </a>
              </li>
            </ul>




          </div>
          <div class="col-lg-1 col-sm-3 col-3 remove-padding order-lg-last">
            <div class="helpful-links mt-md-3 cartres">

              <ul class="helpful-links-inner" style="display: flex;">



                <li class="nav-item dropdown" style="margin-top: 15%;">
                  <a class=" dropdown-toggle" href="#!" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    <img class=" responsiveIcon1" src="/assets/images/userIcon.png" id="userImg" alt="User Logos"
                      style="width: 40px !important; object-fit: cover;border-radius: 50px;" class="rounded-circle">

                  </a>

                  <div class="dropdown-menu dropdown-menu-right show" style="padding: 10px; ;margin-top:0%;border-radius: 5px;background-color: #ffffff; box-shadow: 
                    inset 0 -3em 3em rgba(0,0,0,0.1), 
                          0 0  0 2px rgb(255,255,255),
                          0.3em 0.3em 1em rgba(0,0,0,0.3);" data-toggle="dropdown"
                    aria-labelledby="navbarDropdownMenuLink">
                    <div
                      style="padding: 0px;width: 200px;background-color: rgb(248, 244, 238);padding: 5px;border-radius: 5px;">
                      <a class="dropdown-item" href="#">
                        <h4 style="font-size: 12px;color:#000;text-align: center;" id="showLoggedIn">Hi Guest!
                          Login to continue</h4>
                        <center><button class="dropButton" id="logInBtn" onclick="redirectLogin()">Login</button>
                        </center>
                      </a>
                    </div>

                    <a class="dropdown-item " style="padding:12px;font-weight: 400 !important; font-size: 13px;" href=""
                      onclick="checkifUser('/UserDash/customerProfile.html')"><i class="fa fa-user"></i>
                      Profile</a>

                    <!-- <a class="dropdown-item" style="padding:12px;font-weight: 400 !important; font-size: 13px;"
                    href="#!" onclick="checkifUser('/UserDash/trackOrders.html')"><i class="fa fa-truck"></i> Track
                    Orders</a> -->

                    <a class="dropdown-item" style="padding:12px;font-weight: 400 !important; font-size: 13px;"
                      href="#!" onclick="checkifUser('/UserDash/customerProfile.html')"><i
                        class="fa fa-shopping-cart"></i> My
                      Orders</a>

                    <a class="dropdown-item responsive-secCart"
                      style="padding:12px;font-weight: 400 !important; font-size: 13px;" href="#!"
                      onclick="checkifUser('/UserDash/cart.html')"><i class="fa fa-shopping-cart"></i> My Cart</a>

                    <a class="dropdown-item" style="padding:12px;font-weight: 400 !important; font-size: 13px;" href="#"
                      id="hideLogOut" onclick="logOut()"><i class="fa fa-power-off"></i>
                      Logout</a>
                  </div>
                </li>


                <li class="my-dropdown responsiveIcon2" id="cart-modal" style="display: none;" data-toggle="tooltip"
                  data-placement="top" title="Cart">

                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>
    <div class="mainmenu-area mainmenu-bb">


      <div class="col-lg-12 col-md-12 categorimenu-wrapper p-0" style="z-index: 5;">
        <div class="desktopmenu">
          <div class="menu-container">
            <div class="menu">
              <ul id="whole-navigation-pc">

              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>



  </section>
  <div class="main-content">
    <!-- Top navbar -->

    <!-- Header -->
    <div class="header pb-8 pt-5 pt-lg-8 d-flex align-items-center"
      style="min-height: 200px; background-image: url(https://raw.githack.com/creativetimofficial/argon-dashboard/master/assets/img/theme/profile-cover.jpg); background-size: cover; background-position: center top;">
      <!-- Mask -->
      <span class="mask bg-gradient-default opacity-8"></span>
      <!-- Header container -->
      <!-- <div class="container-fluid d-flex align-items-center">
        <div class="row">
          <div class="col-lg-7 col-md-10">
            <h1 class="display-2 text-white">Hello Jesse</h1>
             <p class="text-white mt-0 mb-5">This is your profile page. You can see the progress you've made with your work and manage your projects or assigned tasks</p>
            <a href="#!" class="btn btn-info">Edit profile</a> 
          </div>
        </div>
      </div>-->
    </div>

    <div class="container-fluid mt--7">
      <div class="row">
        <div class="col-xl-5 order-xl-2 mb-5 mb-xl-0">
          <div class="card card-profile shadow">
            <div class="row justify-content-center">
              <div class="col-lg-3 order-lg-2">
                <div class="card-profile-image">
                  <a href="#! ">
                    <img src="https://img.icons8.com/bubbles/2x/user-male.png" id="putImage" class=""
                      style="width: 200px !important;height: 150px !important; object-fit: cover; border-radius: 100% !important;">

                  </a>

                </div>

              </div>
            </div>

            <div class="card-header text-center border-0 pt-8 pt-md-4 pb-0 pb-md-4">
              <div class="d-flex justify-content-between">
                <!-- <a href="#!" class="btn btn-sm btn-info " onclick="deleteMyAccount()">Delete Account</a> -->
                <label  class="btn btn-sm btn-default "
                  style="display: inline-block;background-color: red;color: #ffffff;" onclick="deleteMyAccount()">Delete Account</label>
                <label for="fileSubmit2" class="btn btn-sm btn-default float-right"
                  style="display: inline-block;background-color:red;color: #ffffff;">Update
                  Image</label>
                <input type="file" style="display: none;" accept="images/*" id="fileSubmit2" onchange="readURL(this)">

              </div>
            </div>
            <section style="margin-left: auto;margin-right: auto;margin-top: 8%;">
              <progress value="0" max="100" id="uploader2"> 0%</progress>
              <p id="demo"></p>
              <h5
                style="font-size: 14px;padding: 10px;border-radius: 20px;color: palevioletred;font-weight: 900;display: none; "
                id="profileMessage">Click on update button to update the profile pic</h5>
            </section>
            <div class="card-body pt-0 ">
              <div class="row">
                <div class="col" style="background-color: transparent !important;color: black !important;">
                  <div class="card-profile-stats d-flex justify-content-center mt-md-5">
                    <div>
                      <span class="heading" id="totalOrders">10</span>
                      <span class="description">Placed Orders</span>
                    </div>
                    <div>
                      <span class="heading" id="orderCompleted">5</span>
                      <span class="description">Completed Orders</span>
                    </div>
                    <div>
                      <span class="heading" id="ordersPending">5</span>
                      <span class="description">Pending Orders</span>
                    </div>
                    <div>
                      <span class="heading" id="totaCart">5</span>
                      <span class="description">Cart Items</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="text-center">
                <h3 id="dbName">
                  Loading...
                </h3>
                <!-- <div class="h5 font-weight-300">
                  <i class="ni location_pin mr-2"></i>Bucharest, Romania
                </div> -->
                <div class="h5 mt-4" id="dbEmail">
                  <i class="ni business_briefcase-24 mr-2"></i>Loading...
                </div>
                <!-- <div>
                  <i class="ni education_hat mr-2"></i>University of Computer Science
                </div> -->
                <hr class="my-4">
                <p style="font-weight: 900;">All Orders</p>
                <div class="mr-table allproduct mt-4" style="max-height: 300px;overflow-x: auto;">
                  <div class="table-responsiv">
                    <table id="" class="table table-hover dt-responsive" cellspacing="0" width="100%">
                      <thead>
                        <tr>
                          <th>Order Id</th>
                          <th>Purchase Type</th>
                          <th>Order Total</th>
                          <th>Order Status</th>
                        </tr>
                      </thead>
                      <tbody id="orders-summery">
                        <!-- <tr>
                          <td>
                            1232
                          </td>
                          <td>
                            Cart
                          </td>
                          <td>
                            300
                          </td>
                          <td>
                            Rejected
                          </td>
                        </tr> -->
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-xl-7 order-xl-1">
          <div class="card bg-secondary shadow">
            <div class="card-header bg-white border-0">
              <div class="row align-items-center">
                <div class="col-8">
                  <h3 class="mb-0">My account</h3>
                </div>
                <div class="col-4 text-right">
                  <!-- <a href="#1" class="btn btn-sm btn-primary" >Update</a> -->
                  <label  class="btn btn-sm btn-default "
                  style="display: inline-block;background-color: red;color: #ffffff;" id="updateDetails">Update Details</label>
                </div>
              </div>
            </div>
            <div class="card-body">
              <form>
                <h6 class="heading-small text-muted mb-4">User information</h6>
                <h5 style="text-align: center;padding: 10px;color: #ffffff;display: none;" id="message">
                  Loading..</h5>

                <div class="pl-lg-4">
                  <div class="row">
                    <div class="col-lg-6">
                      <div class="form-group focused">
                        <label class="form-control-label" for="input-username">Username</label>
                        <input type="text" id="username" class="form-control form-control-alternative"
                          placeholder="Username" value="">
                      </div>
                    </div>
                    <div class="col-lg-6">
                      <div class="form-group">
                        <label class="form-control-label" for="input-email">Email
                          address</label>
                        <input type="email" id="useremail" class="form-control form-control-alternative"
                          placeholder="demo@example.com">
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-lg-6">
                      <div class="form-group focused">
                        <label class="form-control-label" for="input-first-name">Phone
                          Number</label>
                        <input type="number" id="phone2" class="form-control form-control-alternative"
                          placeholder="Update your Phone Number" value="" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" min="0" max="999"    maxlength="10">
                      </div>
                    </div>
                    <div class="col-lg-6">
                      <div class="form-group focused">
                        <label class="form-control-label" for="">Alt. Phone Number</label>
                        <input type="number" id="altphone" class="form-control form-control-alternative"
                          placeholder="Confirm Updated Alternate Phone Number" value="" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" min="0" max="999"  maxlength="10">
                      </div>
                    </div>
                  </div>
                  <br>
                  <div class="row">
                    <div class="col-lg-4">
                      <div class="form-group focused">
                        <label class="form-control-label" for="input-first-name" id="lblcurrpass">Current
                          Password</label>
                        <input type="password" id="currpass" class="form-control form-control-alternative"
                          placeholder="Update your password" value="">
                      </div>
                    </div>
                    <div class="col-lg-4">
                      <div class="form-group focused">
                        <label class="form-control-label" for="input-first-name" id="lblpass">New Password</label>
                        <input type="password" id="pass" class="form-control form-control-alternative"
                          placeholder="Update your password" value="">
                      </div>
                    </div>
                    <div class="col-lg-4">
                      <div class="form-group focused">
                        <label class="form-control-label" for="input-last-name" id="lblcpass">Confirm
                          Password</label>
                        <input type="password" id="cpass" class="form-control form-control-alternative"
                          placeholder="Confirm Updated Password" value="">
                      </div>
                    </div>
                  </div>
                </div>
                <hr class="my-4">
                <!-- Address -->
                <h6 class="heading-small text-muted mb-4">Address Details</h6>
                <div class="pl-lg-4">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="form-group focused">
                        <label class="form-control-label" for="address">Address</label>
                        <input id="address" class="form-control form-control-alternative" placeholder="Home Address"
                          value="Bld Mihail Kogalniceanu, nr. 8 Bl 1, Sc 1, Ap 09" type="text">
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-lg-4">
                      <div class="form-group focused">
                        <label class="form-control-label" for="city">City</label>
                        <input type="text" id="city" class="form-control form-control-alternative" placeholder="City"
                          value="New York">
                      </div>
                    </div>
                    <div class="col-lg-4">
                      <div class="form-group focused">
                        <label class="form-control-label" for="Landmark">Landmark</label>
                        <input type="text" id="landmark" class="form-control form-control-alternative"
                          placeholder="Landmark" value="United States">
                      </div>
                    </div>
                    <div class="col-lg-4">
                      <div class="form-group">
                        <label class="form-control-label" for="postal">Postal
                          code</label>
                        <input type="number" id="postal" class="form-control form-control-alternative"
                          placeholder="Postal code" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="6">
                      </div>
                    </div>
                  </div>
                </div>
                <hr class="my-4">
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- SECTION1 -->
  <div class="modal fade" id="modalYT" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">

      <!--Content-->
      <div class="modal-content">

        <!--Body-->
        <div class="modal-body mb-0 p-0">

          <div class="embed-responsive embed-responsive-16by9 z-depth-1-half" style="height: 600px;">
            <img class="img-fluid embed-responsive-item imgresponsive" style="object-fit: cover;" id="showOffer" src=""
              allowfullscreen>
          </div>

        </div>

        <!--Footer-->
        <div class="modal-footer justify-content-center flex-column flex-md-row">
       
          <button type="button" class="btn btn-outline-primary btn-rounded btn-md ml-4"
            data-dismiss="modal">Close</button>
        </div>

      </div>
      <!--/.Content-->

    </div>
  </div>


  <footer class="footer" id="footer-section-loader" style="background:rgba(0);"></footer>

  <script src="../assets/js/jquery.js"></script>
  
  <script src="/assets/js/bootstrap.min.js"></script>
 
  <!-- <script src="../assets/js/jquery-ui.min.js"></script> -->
  <script type="text/javascript">
    // $(document).ready(() => {

    $('#footer-section-loader').load('../Common/footer.html');
    // })
  </script>
  <script type="text/javascript">
 
  </script>

  <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-analytics.js"></script>
  <!-- <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-functions.js"></script> -->
  <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-auth.js"></script>
  <!-- <script src="https://www.gstatic.com/firebasejs/7.24.0/firebaseui.js"></script> -->
  <!-- <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script> -->

  <script>

  </script>

  <!-- <script src="../index1.js"></script> -->
 
  <script>
    $(".drobt").click(function () {
      if ($('.drobt0').hasClass('drobt1')) {
        $('.drobt0').removeClass('drobt1');
        $('.drobt0').addClass('drobt2');
      } else {
        $('.drobt0').removeClass('drobt2');
        $('.drobt0').addClass('drobt1');
      }
    });
  </script>
  <script src="//code.tidio.co/kjoezjioh2sy6yyxktwjnazd6lfyynyr.js" async></script>
  <script>
    function hidenavigation() {
      $('.drobt0').addClass('colapse');
    }

    function shownavigation() {
      $('.drobt0').removeClass('colapse');
    }
  </script>
  

  <script>
        var firebaseConfig = {
      apiKey: "AIzaSyATUjzcsSQMIKlEeBQqMGTy_4zugRTPILg",
      authDomain: "lake-of-cakes.firebaseapp.com",
      databaseURL: "https://lake-of-cakes.firebaseio.com",
      projectId: "lake-of-cakes",
      storageBucket: "lake-of-cakes.appspot.com",
      messagingSenderId: "779843608951",
      appId: "1:779843608951:web:48c6afe1773e2b395e8172",
      measurementId: "G-5ER0QF0FDW"
    };
    firebase.initializeApp(firebaseConfig);
  
    var db = firebase.firestore();
    db.collection("offers").onSnapshot(async (snapshots) => {

      let snapshotDocs = snapshots.docs;

      // var dbref = db.collection('Customers');
      for (let doc of snapshotDocs) {
        userDoc = doc.data();
        if (userDoc.isActivated) {
          document.getElementById("showOffer").src = userDoc.imgUrl;
        }
      }

    });

    var checkUser;
    checkUser = window.localStorage.getItem("locLoggedInUser");
    window.localStorage.setItem("redirectURL", window.location.href)
    var timecount = 0;
    
    if (checkUser == null || checkUser == "null") {
        window.location = "/Auth/login.html"
    }
    function checkifUser() {
      if (checkUser == null || checkUser == "null") {
        
        window.location = "/Auth/login.html"
      } else {
        window.location = "/UserDash/customerProfile.html"
      }
    }

    function redirectToCart() {
      if (checkUser == null || checkUser == "null") {
        window.location = "/Auth/login.html"
      } else {
        window.location = "/UserDash/cart.html"
      }
    }

    var counter = 0;
    document.getElementById("hideLogOut").style.display = "none";
    // const db = firebase.firestore();
    var docData, userDoc;

    db.collection("Customers").onSnapshot(async (snapshots) => {

      checkUser = window.localStorage.getItem("locLoggedInUser");

      let snapshotDocs = snapshots.docs;

      // var dbref = db.collection('Customers');
      for (let doc of snapshotDocs) {

        if (checkUser == doc.data().userId) {

          counter++;

          userDoc = doc.data();
          if (userDoc.cart != undefined && userDoc.cart != "undefined") {
            document.getElementById("cart-count").innerHTML = userDoc.cart.length;
          } else {
            document.getElementById("cart-count").innerHTML = 0;
          }

          if (userDoc.UserName == null) {
            userDoc.UserName = "User@LOC";
          }

          if (userDoc.Image == null || userDoc.Image == "null" || userDoc.Image == undefined) {
            userDoc.Image = "../assets/images/userIcon.png"
          }

          document.getElementById("logInBtn").style.display = "none";
          document.getElementById("hideLogOut").style.display = "block";
          document.getElementById("showLoggedIn").innerHTML = userDoc.UserName;
          document.getElementById("userImg").src = userDoc.Image;
          break;
        }
      }

      if (counter == 0) {

        document.getElementById("hideLogOut").style.display = "none";
        document.getElementById("showLoggedIn").innerHTML = "Hi Guest! Login to continue";
        document.getElementById("logInBtn").style.display = "block";
      }

    });


    


    function redirectLogin() {
      window.location = "/Auth/login.html"
    }

    function logOut() {
      let dbref = db.collection('Customers');
      // firebase.auth().signOut();
      dbref.doc(checkUser).update({
        token: "null"

      }).then(function () {
        window.localStorage.setItem("locLoggedInUser","null")
        firebase.auth().signOut();
        location.reload();
      });
    }
  </script>
      <script src="/Auth/app.js"></script>
      <script src="../Common/navbar1.js"></script>


  <script>
    db.collection("offers").onSnapshot(async (snapshots) => {

      let snapshotDocs = snapshots.docs;

      // var dbref = db.collection('Customers');
      for (let doc of snapshotDocs) {
        userDoc = doc.data();
        if (userDoc.isActivated) {
          document.getElementById("showOffer").src = userDoc.imgUrl;
        }
      }

    });

    var user = window.localStorage.getItem("locLoggedInUser");
    var userKey = "null";



    if (user != "null" && user != null) {

      var userimage = "null";
      var updatedPhone = "false";
      var dbref = db.collection('Customers');
      db.collection("Customers").onSnapshot(async (snapshots) => {

        let snapshotDocs = snapshots.docs;

        for (let doc of snapshotDocs) {

          let docData = doc.data();
          if (user == docData.userId) {
            userKey = docData;
            break;
          }

        }
        if (userKey != "null") {
          var dbref = db.collection('Customers');
          document.getElementById("dbName").innerHTML = userKey.UserName;
          document.getElementById("dbEmail").innerHTML = userKey.Email
          document.getElementById("username").value = userKey.UserName;
          document.getElementById("useremail").value = userKey.Email;
          if (userKey.Password == undefined) {
            document.getElementById("pass").style.display = "none"
            document.getElementById("cpass").style.display = "none"
            document.getElementById("currpass").style.display = "none"
            document.getElementById("lblcurrpass").style.display = "none"
            document.getElementById("lblpass").style.display = "none"
            document.getElementById("lblcpass").style.display = "none"
          } else {
            document.getElementById("pass").style.display = "block"
            document.getElementById("cpass").style.display = "block"
            document.getElementById("currpass").style.display = "block"
            document.getElementById("lblcurrpass").style.display = "block"
            document.getElementById("lblpass").style.display = "block"
            document.getElementById("lblcpass").style.display = "block"
          }

          if (userKey.Phone == undefined || userKey.Phone == null) {

            document.getElementById("phone2").value = "";
          } else {

            document.getElementById("phone2").value = userKey.Phone.slice(userKey.Phone.length - 10);

          }
          if (userKey.AltPhone == undefined) {
            document.getElementById("altphone").value = "";
          } else {
            document.getElementById("altphone").value = userKey.AltPhone;
          }
          if (userKey.Address == undefined) {
            document.getElementById("address").value = "";
          } else {
            document.getElementById("address").value = userKey.Address;
          }

          if (userKey.City == undefined) {
            document.getElementById("city").value = "";
          } else {
            document.getElementById("city").value = userKey.City;
          }

          if (userKey.Landmark == undefined) {
            document.getElementById("landmark").value = "";
          } else {
            document.getElementById("landmark").value = userKey.Landmark;
          }

          if (userKey.Postal == undefined) {
            document.getElementById("postal").value = "";
          } else {
            document.getElementById("postal").value = userKey.Postal;
          }

          if (userKey.Image == undefined || userKey.Image == null || userKey.Image == "null") {
            document.getElementById("putImage").src =
              "https://w7.pngwing.com/pngs/81/570/png-transparent-profile-logo-computer-icons-user-user-blue-heroes-logo.png"
          } else {
            document.getElementById("putImage").src = userKey.Image;
          }


          document.getElementById("updateDetails").addEventListener("click", async function () {
            let check = 0;

            let name = document.querySelector('#username').value;
            let email = document.querySelector('#useremail').value;
            let pass = document.querySelector('#pass').value;
            let currpass = document.querySelector('#currpass').value;
            let cpass = document.querySelector('#cpass').value;
            let phone = document.querySelector('#phone2').value;
            let altphone = document.querySelector('#altphone').value;
            let address = document.querySelector('#address').value;
            let city = document.querySelector('#city').value;
            let postal = document.querySelector('#postal').value;
            let landmark = document.querySelector('#landmark').value;


            if (phone != "" && altphone != "") {
              if (phone.length == 10 && altphone.length == 10) {
                if (selectedFile == "null") {
                  userimage = userKey.Image;
                } else {
                  await sendimage2();
                  // console.log(userimage)
                }
                await dbref.doc(userKey.userId).update({
                  UserName: name,
                  Email: email,
                  Image: userimage,
                  Phone: phone,
                  AltPhone: altphone,
                  Address: address,
                  City: city,
                  Postal: postal,
                  Landmark: landmark

                }).then(function () {
                  document.getElementById("message").style.display = "block";
                  document.getElementById("message").style.backgroundColor = "green"
                  document.getElementById("message").innerHTML = "Data Updated Successfully"

                  setTimeout(function () {

                    document.getElementById("message").style.display = "none";
                  }, 2000)
                });
              } else {
                document.getElementById("message").style.display = "block";
                document.getElementById("message").style.backgroundColor = "red"
                document.getElementById("message").innerHTML = "Invalid Phone numbers"

                setTimeout(function () {

                  document.getElementById("message").style.display = "none";
                }, 2000)
              }
            } else {
              if (selectedFile == "null") {
                userimage = userKey.Image;
              } else {
                await sendimage2();
                // console.log(userimage)
              }
              await dbref.doc(userKey.userId).update({
                UserName: name,
                Email: email,
                Image: userimage,
                Phone: phone,
                City: city,
                Postal: postal,
                Landmark: landmark

              }).then(function () {
                document.getElementById("message").style.display = "block";
                document.getElementById("message").style.backgroundColor = "green"
                document.getElementById("message").innerHTML = "Data Updated Successfully"

                setTimeout(function () {

                  document.getElementById("message").style.display = "none";
                }, 2000)
              });
            }

            if (currpass.trim() != "") {

              if (currpass.trim() == atob(userKey.Password)) {
                if ((pass.trim() == cpass.trim()) && (cpass.trim() != "" && pass.trim() != "")) {
                  if (selectedFile == "null") {
                    userimage = userKey.Image;
                  } else {
                    await sendimage2();
                    alert("9")
                  }
                  await dbref.doc(userKey.userId).update({
                    UserName: name,
                    Email: email,
                    Image: userimage,
                    Password: btoa(pass),
                    Phone: phone,
                    City: city,
                    Postal: postal,
                    Landmark: landmark

                  }).then(function () {
                    document.getElementById("message").style.display = "block";
                    document.getElementById("message").style.backgroundColor = "green"
                    document.getElementById("message").innerHTML = "Data Updated Successfully"

                    setTimeout(function () {

                      document.getElementById("message").style.display = "none";
                    }, 2000)
                  });
                } else {
                  document.getElementById("message").style.display = "block";
                  document.getElementById("message").style.backgroundColor = "red"
                  document.getElementById("message").innerHTML = "Password Miss-Match"

                  setTimeout(function () {

                    document.getElementById("message").style.display = "none";
                  }, 2000)

                }
              } else {

                document.getElementById("message").style.display = "block";
                document.getElementById("message").style.backgroundColor = "red"
                document.getElementById("message").innerHTML = "Current Password Incorrect"

                setTimeout(function () {

                  document.getElementById("message").style.display = "none";
                }, 2000)

              }
            }

          });
        }
      });
      var selectedFile = "null";
      var uploader = document.getElementById('uploader2');
      fileSubmit2.addEventListener('change', uploadFile2);

      function uploadFile2(e) {
        selectedFile = e.target.files[0];

      }

      async function sendimage2() {
        const storageService = firebase.storage();
        var uploadTask = storageService.ref("UserProfileImages/" + userKey.userId + "/" + selectedFile.name + "").put(
          selectedFile);
        // console.log(selectedFile.getDownloadURL);
        await uploadTask.on('state_changed', function (snapshot) {
          var percentage = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
          uploader.value = percentage;
          progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;

          document.getElementById("demo").innerHTML = progress;
          switch (snapshot.state) {
            case firebase.storage.TaskState.PAUSED: // or 'paused'
              document.getElementById("demo").innerHTML = "Upload Paused";
              // console.log('Upload is paused');
              break;
            case firebase.storage.TaskState.RUNNING: // or 'running'
              document.getElementById("demo").innerHTML = "File is uploading" + " " + progress + "%";

              break;
          }
        }, function (error) {
          console.log(error);
          // Handle unsuccessful uploads
        }, function () {
          document.getElementById("demo").innerHTML = "Uploaded" + " " + progress + "%";
          uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {

            urls2 = downloadURL;

            userimage = urls2;

            dbref.doc(userKey.userId).update({

              Image: userimage,


            });

            // window.location="CrewDetails.html"
          });
        });

      }

    } else {
      document.getElementById("userBody").innerHTML = "404 Not Found"
      window.location = "/Auth/login.html"
    }


    function readURL(input) {
      document.getElementById("profileMessage").style.display = "block";
      setInterval(function () {
        document.getElementById("profileMessage").style.display = "none";
      }, 3000)
      if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function (e) {
          $('#putImage')
            .attr('src', e.target.result);
        };
        reader.readAsDataURL(input.files[0]);
      }
    }
    
 
  
    function deleteMyAccount(){
      let ans=confirm("Are you sure to delete account?")
      if(ans){
        db.collection("Customers").doc(checkUser).delete().then(function() {
        firebase.auth().signOut();
        window.location="../index.html"
        window.localStorage.setItem("locLoggedInUser","null")
      }).catch(function(error) {
        alert(error)
          console.error("Error removing document: ", error);
      });
      }
      
      
        }
    
  
    
  </script>

<style>
  .drobt1 {
    transform: translateX(-101%);
  }

  .drobt2 {
    transform: translateX(0%);
  }
</style>

  <script src="./customerProfile1.js"></script>

</html>